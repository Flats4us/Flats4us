{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth.service\";\nimport * as i2 from \"../chat.service\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(authService, chatService) {\n    this.authService = authService;\n    this.chatService = chatService;\n    this.title = 'Login';\n    this.username = '';\n    this.password = '';\n  }\n  login() {\n    this.authService.login(this.username, this.password).subscribe(response => {\n      console.log(response); // Print the response to the console\n      localStorage.setItem('jwt', response.token); // Store the JWT token\n      this.chatService.startConnection(response.token); // Restart SignalR connection\n    }, error => {\n      console.error('Login error:', error); // Print error to the console\n    });\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.ChatService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 12,\n    vars: 2,\n    consts: [[1, \"login-container\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"username\"], [\"type\", \"text\", \"id\", \"username\", \"name\", \"username\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.login();\n        });\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"label\", 3);\n        i0.ɵɵtext(4, \"Username:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"input\", 4);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_5_listener($event) {\n          return ctx.username = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 2)(7, \"label\", 5);\n        i0.ɵɵtext(8, \"Password:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"input\", 6);\n        i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.password = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"button\", 7);\n        i0.ɵɵtext(11, \"Login\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.username);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.password);\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":";;;;AAUA,OAAM,MAAOA,cAAc;EAKzBC,YACUC,WAAwB,EACxBC,WAAwB;IADxB,gBAAW,GAAXD,WAAW;IACX,gBAAW,GAAXC,WAAW;IANrB,UAAK,GAAG,OAAO;IACf,aAAQ,GAAU,EAAE;IACpB,aAAQ,GAAW,EAAE;EAKhB;EAELC,KAAK;IACH,IAAI,CAACF,WAAW,CAACE,KAAK,CAAC,IAAI,CAACC,QAAQ,EAAE,IAAI,CAACC,QAAQ,CAAC,CAACC,SAAS,CAC5DC,QAAQ,IAAG;MACTC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CAAC,CAAC;MACvBG,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEJ,QAAQ,CAACK,KAAK,CAAC,CAAC,CAAC;MAC7C,IAAI,CAACV,WAAW,CAACW,eAAe,CAACN,QAAQ,CAACK,KAAK,CAAC,CAAC,CAAC;IACpD,CAAC,EACDE,KAAK,IAAG;MACNN,OAAO,CAACM,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC,CAAC,CAAC;IACxC,CAAC,CACF;EACH;EAAC;qBArBUf,cAAc;EAAA;EAAA;UAAdA,cAAc;IAAAgB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCT3BC,8BAA6B;QACnBA;UAAA,OAAYC,WAAO;QAAA,EAAC;QACxBD,8BAAwB;QACAA,yBAAS;QAAAA,iBAAQ;QACvCA,gCAOE;QAJAA;UAAA;QAAA,EAAsB;QAHxBA,iBAOE;QAEJA,8BAAwB;QACAA,yBAAS;QAAAA,iBAAQ;QACvCA,gCAOE;QAJAA;UAAA;QAAA,EAAsB;QAHxBA,iBAOE;QAEJA,kCAA8C;QAAAA,sBAAK;QAAAA,iBAAS;;;QAjBxDA,eAAsB;QAAtBA,sCAAsB;QAWtBA,eAAsB;QAAtBA,sCAAsB","names":["LoginComponent","constructor","authService","chatService","login","username","password","subscribe","response","console","log","localStorage","setItem","token","startConnection","error","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\Users\\User\\source\\repos\\Flats4us\\Flats4us\\chat-showcase\\chat-app\\src\\app\\login\\login.component.ts","C:\\Users\\User\\source\\repos\\Flats4us\\Flats4us\\chat-showcase\\chat-app\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { AuthService } from '../auth.service';\r\nimport { ChatService } from '../chat.service';\r\n\r\n@Component({\r\n  \r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent {\r\n  title = 'Login';\r\n  username: string ='';\r\n  password: string = '';\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private chatService: ChatService\r\n    ) {}\r\n\r\n  login() {\r\n    this.authService.login(this.username, this.password).subscribe(\r\n      response => {\r\n        console.log(response); // Print the response to the console\r\n        localStorage.setItem('jwt', response.token); // Store the JWT token\r\n        this.chatService.startConnection(response.token); // Restart SignalR connection\r\n      },\r\n      error => {\r\n        console.error('Login error:', error); // Print error to the console\r\n      }\r\n    );\r\n  }\r\n}","<!-- login.component.html -->\r\n<div class=\"login-container\">\r\n    <form (ngSubmit)=\"login()\">\r\n      <div class=\"form-group\">\r\n        <label for=\"username\">Username:</label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"username\"\r\n          [(ngModel)]=\"username\"\r\n          name=\"username\"\r\n          class=\"form-control\"\r\n          required\r\n        />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"password\">Password:</label>\r\n        <input\r\n          type=\"password\"\r\n          id=\"password\"\r\n          [(ngModel)]=\"password\"\r\n          name=\"password\"\r\n          class=\"form-control\"\r\n          required\r\n        />\r\n      </div>\r\n      <button type=\"submit\" class=\"btn btn-primary\">Login</button>\r\n    </form>\r\n  </div>\r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}