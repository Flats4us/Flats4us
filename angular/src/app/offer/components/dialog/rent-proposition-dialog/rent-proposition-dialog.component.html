<h1 class="text-2xl p-4 font-semibold">{{ "Rents.add-rent" | translate }}</h1>
<div mat-dialog-content>
	<form
		class="flex flex-col"
		[formGroup]="rentPropositionForm"
		(ngSubmit)="onYesClick()"
	>
		<mat-form-field>
			<mat-label>{{ "Rents.start-rent" | translate }}</mat-label>
			<input
				matInput
				readonly
				formControlName="startDate"
				[min]="minDate"
				[matDatepicker]="datepicker"
			/>
			<mat-datepicker-toggle
				matIconSuffix
				[for]="datepicker"
			></mat-datepicker-toggle>
			<mat-datepicker #datepicker></mat-datepicker>
			<mat-error
				*ngIf="rentPropositionForm.controls['startDate'].errors?.['required']"
			>
				{{ "required-field" | translate }}!
			</mat-error>
		</mat-form-field>
		<mat-form-field>
			<mat-label>{{ "Rents.rental-period" | translate }}</mat-label>
			<input
				matInput
				formControlName="duration"
				placeholder="Liczba dni najmu"
				type="number"
				[min]="1"
			/>
			<mat-error
				*ngIf="rentPropositionForm.controls['duration'].errors?.['required']"
			>
				{{ "required-days-info1" | translate }}!
			</mat-error>
			<mat-error *ngIf="rentPropositionForm.controls['duration'].errors?.['min']">
				{{ "required-days-info2" | translate }}!
			</mat-error>
		</mat-form-field>
		<mat-form-field class="example-chip-list">
			<mat-label>{{ "Rents.roommates-email" | translate }}</mat-label>
			<mat-chip-grid #chipGrid2 aria-label="Emails">
				<mat-chip-row
					*ngFor="let tenant of tenants"
					[editable]="true"
					[aria-description]="'press enter to edit ' + tenant"
					(removed)="remove(tenant, tenants)"
					(edited)="edit(tenant, $event)"
				>
					{{ tenant }}
					<button matChipRemove type="button" [attr.aria-label]="'remove ' + tenant">
						<mat-icon>cancel</mat-icon>
					</button>
				</mat-chip-row>
				<input
					placeholder="Adresy email współlokatorów"
					[formControl]="tenantsCtrl"
					[matChipInputFor]="chipGrid2"
					[matChipInputSeparatorKeyCodes]="separatorKeysCodes"
					[matChipInputAddOnBlur]="addOnBlur"
					(matChipInputTokenEnd)="add($event, tenants, tenantsCtrl)"
				/>
			</mat-chip-grid>
		</mat-form-field>
		<mat-error *ngIf="invalidEmail$ | async">
			{{ "Rents.email-fail" | translate }}!
		</mat-error>
	</form>
</div>
<div mat-dialog-actions class="button-box">
	<p>{{ "Rents.agree-rental" | translate }}?</p>
	<div class="button-box-yn">
		<button
			mat-button
			mat-dialog-close
			cdkFocusInitial
			type="button"
			(click)="onClose()"
		>
			{{ "no" | translate }}
		</button>
		<button mat-button type="submit" (click)="onYesClick()">
			{{ "yes" | translate }}
		</button>
	</div>
</div>
