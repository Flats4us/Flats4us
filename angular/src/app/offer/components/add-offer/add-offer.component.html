<h1 class="text-4xl p-4 font-semibold">{{ "Offer.add-offer" | translate }}</h1>
<div class="grid-container">
	<div></div>
	<mat-card class="flex justify-center">
		<mat-card-header class="justify-center mx-auto pt-1 w-3/4 md:w-2/5">
		</mat-card-header>
		<mat-card-content>
			<form class="w-full" [formGroup]="offerForm" (ngSubmit)="onSubmit()">
				<mat-form-field class="md:w-2/3">
					<mat-label>{{ "Offer.price" | translate }}: </mat-label>
					<input type="number" matInput formControlName="price" />
					<span matTextSuffix>zł</span>
				</mat-form-field>
				<mat-form-field class="md:w-2/3">
					<mat-label>{{ "Offer.bail" | translate }}: </mat-label>
					<input type="number" matInput formControlName="deposit" />
					<span matTextSuffix>zł</span>
				</mat-form-field>
				<mat-form-field class="md:w-2/3">
					<mat-label>{{ "Offer.rental-period" | translate }}: </mat-label>
					<mat-date-range-input [rangePicker]="picker">
						<input matStartDate formControlName="startDate" placeholder="Początek" />
						<input matEndDate formControlName="endDate" placeholder="Koniec" />
					</mat-date-range-input>
					<mat-datepicker-toggle
						matIconSuffix
						[for]="picker"
					></mat-datepicker-toggle>
					<mat-date-range-picker #picker></mat-date-range-picker>
				</mat-form-field>

				<mat-form-field class="md:w-2/3">
					<mat-label>{{ "Offer.select-property" | translate }}: </mat-label>
					<mat-select formControlName="propertyId">
						<mat-option
							*ngFor="let property of properties$ | async"
							[value]="property.propertyId"
							>{{
								property.street + " " + property.number + ", " + property.city
							}}</mat-option
						>
					</mat-select>
				</mat-form-field>

				<mat-form-field class="md:w-2/3">
					<mat-label>{{ "Offer-description" | translate }}: </mat-label>
					<textarea matInput formControlName="description"></textarea>
				</mat-form-field>

				<mat-form-field class="md:w-2/3">
					<mat-label>{{ "Offer.rental-rules" | translate }}: </mat-label>
					<textarea matInput formControlName="regulations"></textarea>
				</mat-form-field>

				<app-survey [offerForm]="offerForm"></app-survey>

				<div class="flex justify-between">
					<button
						mat-flat-button
						color="primary"
						type="submit"
						[disabled]="!offerForm.valid"
					>
						{{ "save" | translate }}
					</button>
					<button mat-flat-button color="accent" type="button" routerLink="/start">
						{{ "cancel" | translate }}
					</button>
				</div>
			</form>
		</mat-card-content>
	</mat-card>
</div>
