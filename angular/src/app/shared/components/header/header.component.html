<mat-toolbar class="custom-toolbar" role="heading">
	<a class="h-full logo" routerLink="/">
		<img class="h-full w-auto" src="./assets/logoFlats4Us.svg" alt="" />
	</a>
	<div
		*ngIf="authService.isLoggedIn$ | async"
		class="flex items-center justify-around w-[750px]"
	>
		<ng-container *ngTemplateOutlet="buttons"></ng-container>
	</div>
	<div class="spacer"></div>

	<div *ngIf="authService.isLoggedIn$ | async; else notLoggedIn">
		<button
			*ngIf="user$ | async as user"
			class="your-profile"
			[matMenuTriggerFor]="myProfile"
		>
			<img
				class="your-photo"
				alt="TwÃ³j profil"
				src="{{ baseUrl }}/{{ user.profilePicture.path }}"
			/>
		</button>
	</div>
	<mat-menu #myProfile="matMenu">
		<button mat-menu-item [routerLink]="['profile', 'details', 'my']">
			{{ "Header.my-profile" | translate }}
		</button>
		<button mat-menu-item [routerLink]="['profile', 'edit']">
			{{ "Header.edit-profile" | translate }}
		</button>
		<button mat-menu-item [matMenuTriggerFor]="payments">{{ "Header.payments" | translate }}</button>
		<button
			*ngIf="isUserLoggedInAsStudent"
			mat-menu-item
			[routerLink]="['rents', 'owner']"
		>
		{{ "Header.my-rentals" | translate }}
		</button>
		<button
			*ngIf="isUserLoggedInAsStudent"
			mat-menu-item
			[routerLink]="['offer', 'owner']"
		>
		{{ "Header.my-offers" | translate }}
		</button>
		<button
			*ngIf="isUserLoggedInAsStudent"
			mat-menu-item
			[routerLink]="['real-estate', 'owner']"
		>
		{{ "Header.my-properties" | translate }}
		</button>
		<button
			*ngIf="isUserLoggedInAsStudent"
			mat-menu-item
			[routerLink]="['real-estate', 'add']"
		>
		{{ "Header.add-property" | translate }}
		</button>
		<button
			*ngIf="isUserLoggedInAsStudent"
			mat-menu-item
			[routerLink]="['offer', 'add']"
		>
		{{ "Header.add-offer" | translate }}
		</button>
		<button
			*ngIf="isUserLoggedInAsStudent"
			mat-menu-item
			[routerLink]="['offer', 'watched']"
		>
		{{ "Header.observed-offers" | translate }}
		</button>
		<button *ngIf="!isUserLoggedInAsStudent" mat-menu-item>
			{{ "Header.my-properties" | translate }}
		</button>
		<button mat-menu-item (click)="authService.logout()">{{ "Login.log-out" | translate }}</button>
	</mat-menu>

	<mat-menu #payments="matMenu">
		<button mat-menu-item>{{ "Header.payments-history" | translate }}</button>
		<button mat-menu-item>{{ "Header.fees" | translate }}</button>
		<button mat-menu-item>{{ "Header.bail" | translate }}</button>
	</mat-menu>

	<ng-template #notLoggedIn>
		<div class="start-navbar-button spacer">
			<button
				class="button-log"
				mat-stroked-button
				[routerLink]="['auth', 'login']"
			>
			{{ "Header.log" | translate }}
			</button>
			<button
				class="button-sign"
				mat-stroked-button
				[routerLink]="['profile', 'create']"
			>
			{{ "Login.registration" | translate }}
			</button>

			<mat-icon>language</mat-icon>
			<span>PL</span>
			<mat-slide-toggle (change)="changeLanguage($event)"> </mat-slide-toggle>
			<span>EN</span>
		</div>
	</ng-template>
	<button
		mat-icon-button
		class="responsive-menu"
		(click)="showSidenav = !showSidenav"
	>
		<mat-icon class="material-icons-outlined">menu</mat-icon>
	</button>
</mat-toolbar>
<div
	*ngIf="showSidenav"
	class="sidenav flex flex-col w-[180px] h-full bg-white"
>
	<ng-container *ngTemplateOutlet="buttons"></ng-container>
</div>

<ng-template #buttons>
	<a mat-button class="mr-2" routerLink="/">
		<mat-icon
			class="material-icons-outlined"
			aria-hidden="false"
			aria-label="Example home icon"
			fontIcon="home"
		></mat-icon>
		{{ "Header.home-page" | translate }}
	</a>

	<a mat-button class="mr-2" routerLink="start/map">
		<mat-icon class="material-icons-outlined">map</mat-icon>
		{{ "Header.map" | translate }}
	</a>
	<button mat-button class="mr-2" [matMenuTriggerFor]="messages">
		<mat-icon class="material-icons-outlined">chat</mat-icon>
		{{ "Header.messages" | translate }}
	</button>
	<mat-menu #messages="matMenu">
		<button mat-menu-item routerLink="messages">{{ "Header.messages-owner" | translate }}</button>
		<button mat-menu-item routerLink="messages">
			{{ "Header.messages-roommates" | translate }}
		</button>
	</mat-menu>
	<button mat-button class="mr-2" [matMenuTriggerFor]="settings">
		<mat-icon class="material-icons-outlined">settings</mat-icon>
		{{ "Header.settings" | translate }}
	</button>
	<mat-menu #settings="matMenu">
		<button mat-menu-item routerLink="settings/password-change">
			{{ "Header.change-password" | translate }}
		</button>
	</mat-menu>

	<button mat-button class="mr-2" [matMenuTriggerFor]="extended">
		<mat-icon class="material-icons-outlined">arrow_drop_down</mat-icon>
		{{ "Header.additional" | translate }}
	</button>

	<div class="flex items-center justify-center">
		<mat-icon class="mr-4">language</mat-icon>
		<span class="mr-4">PL</span>
		<mat-slide-toggle (change)="changeLanguage($event)"> </mat-slide-toggle>
		<span class="ml-4">EN</span>
	</div>

	<mat-menu #extended="matMenu">
		<button mat-menu-item routerLink="calendar">{{ "Header.calendar" | translate }}</button>
		<button mat-menu-item routerLink="find-roommate">{{ "Header.find-roommates" | translate }}</button>
	</mat-menu>
</ng-template>
