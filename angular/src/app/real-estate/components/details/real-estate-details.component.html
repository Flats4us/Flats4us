<div
	*ngIf="
		(actualRealEstate$ | async)?.images &&
		(actualRealEstate$ | async) as actualRealEstate
	"
>
	<div class="label-box">
		<mat-label class="label-description">
			<span *ngIf="actualRealEstate.images" class="text-3xl"
				>Status nieruchomości:
				{{
					realEstateService.getPropertyStatus(actualRealEstate.verificationStatus)
				}}</span
			>
		</mat-label>
	</div>
	<div class="gallery">
		<div class="container slider">
			<div [@slideAnimation]="currentIndex">
				<ng-template
					ngFor
					[ngForOf]="actualRealEstate.images"
					let-slide
					let-i="index"
				>
					<div class="offer-title-outer">
						<span class="offer-title-inner"
							><h1 class="text-3xl">
								{{ realEstateService.getPropertyType(actualRealEstate.propertyType) }}
								{{ actualRealEstate.area }} m² {{ actualRealEstate.city }}
							</h1></span
						>
					</div>
					<div class="menu-title">
						<button
							class="box-icon"
							id="menu"
							mat-mini-fab
							color="primary"
							matTooltip="Więcej opcji"
							aria-label="MenuButton"
							[matMenuTriggerFor]="menu"
						>
							<mat-icon>more_horiz</mat-icon>
						</button>
						<mat-menu #menu="matMenu" id="sort">
							<button
								*ngFor="let menuOption of this.menuOptions"
								mat-menu-item
								[value]="menuOption.description"
								(click)="onSelect(menuOption, actualRealEstate.propertyId)"
							>
								<span *ngIf="menuOption.option !== 'closeRent'">{{
									menuOption.description
								}}</span>
								<span *ngIf="menuOption.option === 'closeRent'" class="close-rent">{{
									menuOption.description
								}}</span>
							</button>
						</mat-menu>
					</div>
					<img
						*ngIf="actualRealEstate.images.length > 0 && isCurrentSlideIndex(i)"
						class="slide slide-animation nonDraggableImage"
						src="{{ baseUrl }}/{{ slide.path }}"
						(swiperight)="nextSlide(actualRealEstate.images.length)"
						(swipeleft)="prevSlide(actualRealEstate.images.length)"
					/>
				</ng-template>
			</div>

			<button
				class="arrow prev"
				(click)="nextSlide(actualRealEstate.images.length)"
			></button>
			<button
				class="arrow next"
				(click)="prevSlide(actualRealEstate.images.length)"
			></button>
			<nav class="nav">
				<div class="wrapper">
					<ul class="dots">
						<li
							*ngFor="let slide of actualRealEstate.images; let i = index"
							class="dot"
						>
							<span
								[ngClass]="{ active: isCurrentSlideIndex(i) }"
								(click)="setCurrentSlideIndex(i)"
							></span>
						</li>
					</ul>
				</div>
			</nav>
		</div>
	</div>
	<div class="label-box">
		<mat-label class="label-description"
			><mat-icon class="icon">description</mat-icon
			><span class="text-3xl">Opis nieruchomości</span></mat-label
		>
	</div>
	<mat-divider></mat-divider>
	<div class="container-description">
		<div class="column-header-description">
			<p class="text-2xl">Miasto:</p>
			<p class="text-2xl">Dzielnica:</p>
			<p class="text-2xl">Adres:</p>
			<p class="text-2xl">Metraż:</p>
			<p class="text-2xl">Liczba pokoi:</p>
			<p class="text-2xl">Liczba pięter:</p>
			<p class="text-2xl">Piętro:</p>
			<p class="text-2xl">Maks. liczba mieszkańców:</p>
			<p class="text-2xl">Rok budowy:</p>
			<p class="text-2xl">Wyposażenie:</p>
		</div>
		<div class="column-header-description">
			<p class="text-2xl">{{ actualRealEstate.city }}</p>
			<p class="text-2xl">
				{{ actualRealEstate.district === null ? "-" : actualRealEstate.district }}
			</p>
			<p class="text-2xl">
				{{ actualRealEstate.postalCode }} ul. {{ actualRealEstate.street }}
				{{ actualRealEstate.number }}
			</p>
			<p class="text-2xl">{{ actualRealEstate.area }} m²</p>
			<p class="text-2xl">{{ actualRealEstate.numberOfRooms }}</p>
			<p class="text-2xl">
				{{
					actualRealEstate.numberOfFloors === null
						? "-"
						: actualRealEstate.numberOfFloors
				}}
			</p>
			<p class="text-2xl">
				{{ actualRealEstate.floor === null ? "-" : actualRealEstate.floor }}
			</p>
			<p class="text-2xl">{{ actualRealEstate.maxNumberOfInhabitants }}</p>
			<p class="text-2xl">{{ actualRealEstate.constructionYear }}</p>
			<p class="text-2xl">
				<span *ngFor="let equipment of actualRealEstate.equipment"
					>{{ equipment.name }},
				</span>
			</p>
		</div>
	</div>
	<div *ngIf="actualRealEstate.verificationStatus === 0" class="button-box">
		<button mat-raised-button color="primary" (click)="addRent()">
			Dodaj ofertę
		</button>
	</div>
</div>
